{"version":3,"sources":["Apis.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/v4.js","Components/KeyName.js","../../src/index.js"],"names":["AccessToken","backendUrl","backendPatchUrl","process","REACT_APP_PATCH_API_URL","storageToken","sessionStorage","getItem","axiosConfig","headers","Authorization","getAccessToken","setAccessToken","token","login","data","url","axios","post","replace","registerWs","console","log","get","sendMessage","sendBroadcast","query","getSite","getProvider","patchBooks","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","validate","uuid","REGEX","test","byteToHex","i","push","toString","substr","stringify","arr","offset","arguments","length","undefined","toLowerCase","TypeError","v4","options","buf","rnds","random","Form","props","mainEvent","allSettings","badWordsData","keyNameDelay","keyNameBg","keyNameImage","webSocket","initialTime","useState","alert","setAlert","bg","useRef","uuidv3","useMemo","classes","makeStyles","theme","root","height","minHeight","display","flexDirection","justifyContent","alignItems","background","backgroundPosition","backgroundSize","padding","spacing","margin","width","color","padel","maxWidth","borderRadius","backgroundColor","marginBottom","useStyles","useParams","name","setName","timeToCount","interval","React","timeLeft","setTimeLeft","timer","run","ts","current","started","lastInterval","localInterval","Math","min","Infinity","requestId","window","requestAnimationFrame","start","useCallback","ttc","cancelAnimationFrame","newTimeToCount","pause","resume","reset","actions","useEffect","useCountDown","handleAlert","isProfane","string","indexOf","isProfaneEn","words","split","word","sendData","userName","created_at","firebase","firestore","Timestamp","now","db","collection","doc","floor","add","then","res","catch","err","sendName","e","a","preventDefault","Apis","postLogin","username","password","resp","jwt_decode","jwtToken","setItem","className","Snackbar","anchorOrigin","vertical","horizontal","open","onClose","TransitionComponent","Fade","message","action","IconButton","aria-label","onClick","style","src","id","TextField","label","variant","type","required","value","onChange","target","Button","disabled"],"mappings":"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","file":"static/js/9.296ebf3e.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst backendUrl =\"http://34.80.98.184/\"\nconst backendPatchUrl = process.env.REACT_APP_PATCH_API_URL\nconst storageToken = sessionStorage.getItem(\"Token\")\n\nvar AccessToken;\n\nconst setAccessToken = (token) => {\n    AccessToken = token;\n}\n\nconst getAccessToken = () => {\n    return AccessToken;\n}\n\nconst axiosConfig = () => {\n    let obj = {\n        headers: {\n            // Authorization: `Bearer ${AccessToken}`\n            Authorization: `Bearer ${storageToken}`\n        }\n    };\n    return obj;\n}\n\nconst login = (data) => {\n    let url = `${backendUrl}Auth/SignIn`;\n    return axios.post(url.replace(\"undefined\",\"\"), data)\n}\n\nconst registerWs = () => {\n    console.log(storageToken)\n    let url = `${backendUrl}Auth/RegisterWs`;\n    return axios.get(url.replace(\"undefined\",\"\"), axiosConfig())\n}\n\nconst sendMessage = (data) => {\n    let url = `${backendUrl}notify/send`;\n    return axios.post(url.replace(\"undefined\",\"\"),data, axiosConfig())\n}\nconst sendBroadcast = (data) => {\n    let url = `${backendUrl}notify/broadcast`;\n    return axios.post(url.replace(\"undefined\",\"\"),data, axiosConfig())\n}\n\nconst query = (data) => {\n    let url = `${backendUrl}Summon/Call`;\n    return axios.post(url.replace(\"undefined\",\"\"), data, axiosConfig());\n}\n\nconst getSite = (data) => {\n    let url = `${backendUrl}ui/GetSite`;\n    return axios.get(url.replace(\"undefined\",\"\"), axiosConfig())\n}\n\nconst getProvider = (data) => {\n    let url = `${backendUrl}ui/GetProvider`;\n    return axios.get(url.replace(\"undefined\",\"\"), axiosConfig())\n}\n\nconst patchBooks = (data) => {\n    let url = `${backendPatchUrl}api/Patch`;\n    return axios.post(url.replace(\"undefined\",\"\"), data, axiosConfig())\n}\n\nexport default {\n    getAccessToken,\n    setAccessToken,\n    login,\n    registerWs,\n    sendMessage,\n    sendBroadcast,\n    query,\n    getSite,\n    getProvider,\n    patchBooks,\n}","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import React, { useState,useRef,useEffect, useCallback, useMemo } from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { useParams } from \"react-router-dom\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { db } from \"../Firebase/Firebase\";\nimport firebase from \"firebase/app\";\nimport { random } from \"lodash\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport useCountDown from 'react-countdown-hook';\nimport Fade from \"@material-ui/core/Fade\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport {v4 as uuidv3} from 'uuid';\nimport Apis from '../Apis';\nimport jwt_decode from \"jwt-decode\";\n\n\n\nconst Form = (props) => {\n  const { mainEvent, allSettings, badWordsData } = props;\n  const { keyNameDelay, keyNameBg, keyNameImage,webSocket } = allSettings;\n  const initialTime = +keyNameDelay * 1000;\n  const interval = 1000;\n  const [alert, setAlert] = useState(false);\n  const refUuid = useRef(uuidv3());\n  const bg = useMemo(() => {\n    return keyNameBg;\n  }, [keyNameBg])\n\n\n\n  const useStyles = makeStyles(theme => ({\n    root: {\n      // width:\"100%\",\n      height: \"110vh\",\n      minHeight: \"100%\",\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      background: `url(${bg})`,\n      backgroundPosition: \"center center\",\n      backgroundSize: \"cover\",\n      padding: theme.spacing(2),\n\n\n      '& .MuiTextField-root': {\n        margin: theme.spacing(1),\n        width: '100%',\n      },\n      '& .MuiButtonBase-root': {\n        margin: theme.spacing(2),\n        color: \"black\"\n      },\n    },\n    padel: {\n      width: \"90%\",\n      maxWidth: \"300px\",\n      color: \"black\",\n      borderRadius: \"10px\",\n      backgroundColor: \"rgba(255,255,255,0.7)\",\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: \"20px\",\n      marginBottom: \"100px\"\n    },\n    keyNameImage: {\n      width: \"95%\",\n      maxWidth: \"400px\"\n    }\n  }));\n  const classes = useStyles();\n  // create state variables for each input\n  const params = useParams();\n  const [name, setName] = useState('');\n  const [timeLeft, { start }] = useCountDown(initialTime, interval);\n\n  const handleAlert = () => {\n    setAlert(!alert);\n  };\n\n  const isProfane = function(string){\n    for (var i = 0; i < badWordsData.length; i++) {\n      if (string.indexOf(badWordsData[i]) > -1) {\n        return true;\n      }\n    }\n    return false;\n  };\n  var isProfaneEn = function(string){\n    var words = string.split(\" \");\n    for (var i = 0; i < words.length; i++) {\n      var word = words[i].toLowerCase();\n      if (badWordsData.indexOf(word) > -1) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const sendData = useCallback(() => {\n    const userName = {\n      name: name,\n      // number1: random(2000, -2000),\n      // number2: random(2000, -2000),\n      // number3: random(10, -10),\n      // number4: random(360),\n      created_at: firebase.firestore.Timestamp.now(),\n    };\n\n    if (userName !== '') {\n      db.collection(\"events\")\n        .doc(mainEvent)\n        // .collection(\"names\")\n        .collection(\"names_\" + (Math.floor(Math.random() * 20) + 1).toString())\n        .add(userName)\n        .then((res) => {\n          console.log(\"message sent\")\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    }\n  })\n\n  const sendName = async (e) => {\n    e.preventDefault();\n    if(name === ''||name.length === 1||timeLeft>0) {\n      handleAlert();\n      return;\n    }\n    if(isProfane(name)||isProfaneEn(name)){\n      handleAlert();\n      return;\n    }\n    start(initialTime);\n\n   if(webSocket === true){\n    //  const data = new FormData();\n    //  data.append('message',name);\n    const data = {\n      'message':name\n    }\n    let resp = await Apis.sendBroadcast(data);\n    return\n   } else{\n     sendData()};\n\n  }\n  const cancelClick = () => {\n    setName('');\n  }\n\n  const postLogin = async () => {\n\n    // setIsLoginFailed(false);\n    // setFailMessage(undefined);\n\n    const data = {\n        username: process.env.REACT_APP_USER,\n        password: process.env.REACT_APP_PWD\n    }\n\n    try {\n        let resp = await Apis.login(data);\n        try {\n            jwt_decode(resp.data);\n        }\n        catch {\n            console.log(\"登入失敗\")\n            return;\n        }\n\n        let jwtToken = resp.data;\n\n\n        sessionStorage.setItem('Token', jwtToken);\n        // store.dispatch(setAccessToken(jwtToken));\n        Apis.setAccessToken(jwtToken);\n        // store.dispatch(setUiState(uiStateEnum.StandBy));\n    }\n    catch(error) {\n        // setIsLoginFailed(true);\n        // setFailMessage(error.toString());\n    }\n}\n\nuseEffect(() => {\n    postLogin()\n    // return () => {\n    //     cleanup\n    // }\n}, [])\n\n\n\n  return (\n    <div className={classes.root} >\n      <Snackbar\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        open={alert}\n        onClose={handleAlert}\n        TransitionComponent={Fade}\n        message=\"請填入正確姓名\"\n        key={Fade}\n        action={\n          <IconButton aria-label=\"close\" color=\"inherit\" onClick={handleAlert}>\n            <CloseIcon />\n          </IconButton>\n        }\n      >\n        \n      </Snackbar>\n      <div className={classes.keyNameImage}>\n        <img style={{ width: \"100%\" }} src={keyNameImage} />\n      </div>\n      <div className={classes.padel} id=\"black-input\">\n        <TextField\n          label=\"您的姓名\"\n          variant=\"outlined\"\n          type=\"name\"\n          required\n          value={name}\n          onChange={e => setName(e.target.value)}\n        />\n        <div>\n          <Button variant=\"contained\" onClick={cancelClick}>\n            取消\n          </Button>\n          <Button onClick={sendName} disabled={timeLeft > 0 ? true : false} variant=\"contained\" color=\"primary\">\n            {timeLeft > 0 ? '請等一下喔' : '提交'}{` ${timeLeft > 0 ? '(' + timeLeft / +1000 + ')' : ''}`}\n          </Button>\n        </div>\n      </div>\n\n    </div>\n  );\n};\n\nexport default Form;","import React from 'react';\n\nconst useCountDown = (timeToCount = 60 * 1000, interval = 1000) => {\n  const [timeLeft, setTimeLeft] = React.useState(0);\n  const timer = React.useRef({});\n\n  const run = (ts) => {\n    if (!timer.current.started) {\n      timer.current.started = ts;\n      timer.current.lastInterval = ts;\n    }\n\n    const localInterval = Math.min(interval, (timer.current.timeLeft || Infinity));\n    if ((ts - timer.current.lastInterval) >= localInterval) {\n      timer.current.lastInterval += localInterval;\n      setTimeLeft((timeLeft) => {\n        timer.current.timeLeft = timeLeft - localInterval;\n        return timer.current.timeLeft;\n      });\n    }\n\n    if (ts - timer.current.started < timer.current.timeToCount) {\n      timer.current.requestId = window.requestAnimationFrame(run);\n    } else {\n      timer.current = {};\n      setTimeLeft(0);\n    }\n  }\n\n  const start = React.useCallback(\n    (ttc) => {\n      window.cancelAnimationFrame(timer.current.requestId);\n\n      const newTimeToCount = ttc !== undefined ? ttc : timeToCount\n      timer.current.started = null;\n      timer.current.lastInterval = null;\n      timer.current.timeToCount = newTimeToCount;\n      timer.current.requestId = window.requestAnimationFrame(run);\n\n      setTimeLeft(newTimeToCount);\n    },\n    [],\n  );\n\n  const pause = React.useCallback(\n    () => {\n      window.cancelAnimationFrame(timer.current.requestId);\n      timer.current.started = null;\n      timer.current.lastInterval = null;\n      timer.current.timeToCount = timer.current.timeLeft;\n    },\n    [],\n  );\n\n  const resume = React.useCallback(\n    () => {\n      if (!timer.current.started && timer.current.timeLeft > 0) {\n        window.cancelAnimationFrame(timer.current.requestId);\n        timer.current.requestId = window.requestAnimationFrame(run);\n      }\n    },\n    [],\n  );\n\n  const reset = React.useCallback(\n    () => {\n      if (timer.current.timeLeft) {\n        window.cancelAnimationFrame(timer.current.requestId);\n        timer.current = {};\n        setTimeLeft(0);\n      }\n    },\n    [],\n  );\n\n  const actions = React.useMemo(\n    () => ({ start, pause, resume, reset }),\n    [],\n  );\n\n  React.useEffect(() => {\n    return () => window.cancelAnimationFrame(timer.current.requestId);\n  }, []);\n\n  return [timeLeft, actions];\n}\n\nexport default useCountDown;\n"],"sourceRoot":""}