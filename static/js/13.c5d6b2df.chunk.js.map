{"version":3,"sources":["Components/Namemapping.js"],"names":["useStyles","makeStyles","theme","root","display","flexDirection","justifyContent","alignItems","padding","spacing","margin","width","padel","color","backgroundColor","nameWrapper","Form","handleClose","classes","useState","name","setName","params","useParams","sendData","useCallback","userName","number1","random","number2","number3","number4","created_at","firebase","firestore","Timestamp","now","db","collection","doc","eventId","add","then","res","console","log","catch","err","useEffect","id","nameMapping","className","onClick","e","preventDefault","variant"],"mappings":"kMAWMA,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZC,QAASN,EAAMO,QAAQ,GAGvB,uBAAwB,CACtBC,OAAQR,EAAMO,QAAQ,GACtBE,MAAO,SAET,wBAAyB,CACvBD,OAAQR,EAAMO,QAAQ,KAG1BG,MAAO,CACLD,MAAO,IACPE,MAAO,QACPC,gBAAiB,QACjBV,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZC,QAAS,QAEXO,YAAY,CACVX,QAAQ,OACRG,WAAW,SACXD,eAAe,SACfD,cAAc,cAuEHW,UAnEF,SAAC,GAAoB,EAAlBC,YAAmB,IAC3BC,EAAUlB,IADgB,EAGRmB,mBAAS,IAHD,mBAGzBC,EAHyB,KAGnBC,EAHmB,KAI1BC,EAASC,cACTC,EAAWC,uBAAY,WAC3B,IAAMC,EAAW,CACfN,KAAMA,EACNO,QAASC,iBAAO,KAAO,KACvBC,QAASD,iBAAO,KAAO,KACvBE,QAASF,iBAAO,IAAK,GACrBG,QAASH,iBAAO,KAChBI,WAAYC,IAASC,UAAUC,UAAUC,OAE1B,KAAbV,GACFW,IAAGC,WAAW,UACXC,IAAIjB,EAAOkB,SACXF,WAAW,SACXG,IAAIf,GACJgB,MAAK,SAACC,GACLC,QAAQC,IAAI,gBAEZxB,EAAQ,OAETyB,OAAM,SAACC,GACNH,QAAQC,IAAIE,SAuBpB,OANAC,qBAAU,WACL1B,EAAO2B,IACR5B,EAAQ6B,IAAY5B,EAAO2B,OAE7B,CAAC3B,IAGD,qBAAK6B,UAAWjC,EAAQf,KAAxB,SACE,sBAAKgD,UAAWjC,EAAQN,MAAxB,UACA,6CAAMQ,EAAN,kBACE,sBAAK+B,UAAWjC,EAAQH,YAAxB,UAEE,cAAC,IAAD,CAAQqC,QAzBC,SAACC,GAChBA,EAAEC,iBACF9B,KAuBiC+B,QAAQ,YAAY1C,MAAM,UAArD,sCAGA,uBACA,cAAC,IAAD,CAAQ0C,QAAQ,YAAYH,QApBhB,WAClB/B,EAAQ,KAmBF","file":"static/js/13.c5d6b2df.chunk.js","sourcesContent":["import React, { useState, useCallback ,useEffect} from 'react';\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { auth } from '../Firebase/Firebase';\nimport { db } from \"../Firebase/Firebase\";\nimport firebase from \"firebase/app\";\nimport { random } from \"lodash\";\nimport nameMapping from '../Data/name_mapping';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: theme.spacing(2),\n\n\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '300px',\n    },\n    '& .MuiButtonBase-root': {\n      margin: theme.spacing(2),\n    },\n  },\n  padel: {\n    width: 400,\n    color: \"black\",\n    backgroundColor: \"white\",\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: \"20px\"\n  },\n  nameWrapper:{\n    display:\"flex\",\n    alignItems:\"center\",\n    justifyContent:\"center\",\n    flexDirection:\"column\"\n  }\n}));\n\nconst Form = ({ handleClose }) => {\n  const classes = useStyles();\n  // create state variables for each input\n  const [name, setName] = useState('');\n  const params = useParams();\n  const sendData = useCallback(() => {\n    const userName = {\n      name: name,\n      number1: random(2000, -2000),\n      number2: random(2000, -2000),\n      number3: random(500, 1),\n      number4: random(360),\n      created_at: firebase.firestore.Timestamp.now(),\n    };\n    if (userName !== '') {\n      db.collection(\"events\")\n        .doc(params.eventId)\n        .collection(\"names\")\n        .add(userName)\n        .then((res) => {\n          console.log(\"message sent\")\n          //   alert('提交成功')\n          setName('');\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    }\n  })\n  const sendName = (e) => {\n    e.preventDefault();\n    sendData()\n\n  }\n\n\n\n\n  const cancelClick = () => {\n    setName('');\n  }\n\n  useEffect(()=>{\n    if(params.id){\n      setName(nameMapping[params.id])\n    }\n  },[params])\n\n  return (\n    <div className={classes.root} >\n      <div className={classes.padel}>\n      <p>您是{name}嗎？</p>\n        <div className={classes.nameWrapper}>\n\n          <Button onClick={sendName} variant=\"contained\" color=\"primary\">\n            確認送出\n          </Button>\n          <br/>\n          <Button variant=\"contained\" onClick={cancelClick}>\n            手動輸入姓名\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Form;"],"sourceRoot":""}