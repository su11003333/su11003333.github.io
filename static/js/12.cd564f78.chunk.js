(this.webpackJsonpchatify=this.webpackJsonpchatify||[]).push([[12],{325:function(e,t,a){"use strict";a.r(t);var n=a(41),o=a(14),i=a(63),c=a(298),r=a(1),l=a(223),s=a(208),d=a(296),b=a(209),u=a(218),j=a(316),m=a(269),g=a.n(m),p=(a(226),a(216)),f=a(210),h=(a(232),a(23)),x=a(18),O=a(196),y=a(207),k=a(201),v=(a(312),a(200)),C=a(4);a(260),Object(b.a)((function(e){return{root:{flexGrow:1,position:"relative",padding:"8px"},paper:{padding:"10px","&:hover":{backgroundColor:"#1f2436"}},avatar:{display:"inline-block",verticalAlign:"top"},chat:{display:"inline-block",paddingLeft:"1rem",width:"calc(100% - 50px)"},chatHeading:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",fontSize:"1rem",fontWeight:"600",color:"white"},chatTimming:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",paddingLeft:"0.5em",color:"white"},chatText:{color:"#dcddde"},purple:{color:e.palette.getContrastText(p.a[500]),backgroundColor:"#3f51b5"},emojiDiv:{position:"absolute",right:0,top:0},emojiDivInner:{position:"absolute",right:0,padding:"0 35px 0 32px"},emojiBtn:{fontSize:"1.1rem",color:"rgb(255 195 54)"},allEmoji:{backgroundColor:"#2d2e31ba",borderRadius:"5px",paddingLeft:"2px",paddingRight:"2px",display:"flex"},countEmojiBtn:{padding:"3px",borderRadius:"4px",fontSize:"0.8em",backgroundColor:"#ffffff4a",color:"#cacaca",paddingLeft:"5px",paddingRight:"5px","&:hover":{backgroundColor:"#ffffff4a",color:"#e7e7e7"}}}}));var N=a(61),S=a(46),w=a(99),B=a(268),T=a(313),R=a(66),F=a(322),D=Object(b.a)((function(e){return{displayImage:{height:"105px",width:"180px"},imageName:{paddingLeft:"15px",fontSize:"1.3em"},imageDiv:{marginLeft:"16px",marginRight:"16px",marginTop:"-33px"}}}));var z=function(e){var t=e.setState,a=e.file,c=e.setAllSettings,d=e.allSettings,b=(Object(x.h)(),D()),u=Object(r.useState)(!0),j=Object(o.a)(u,2),m=j[0],g=j[1],p=Object(r.useState)(0),f=Object(o.a)(p,2),N=f[0],S=f[1],w=Object(r.useState)({display:"none"}),B=Object(o.a)(w,2),z=B[0],I=B[1],L=Object(r.useState)(""),W=Object(o.a)(L,2),E=(W[0],W[1]),P=function(){g(!1),t()},V=URL.createObjectURL(a),A=function(e){e.preventDefault(),I({display:"block"});var t=h.d.ref("images/".concat(a.target)).put(a);t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;S(t)}),(function(e){console.log(e)}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){var t=a.target;c(Object(i.a)(Object(i.a)({},d),{},Object(n.a)({},t,e)))})),P()}))};return Object(C.jsx)("div",{children:Object(C.jsxs)(O.a,{open:m,onClose:P,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(C.jsxs)("div",{className:b.imageDiv,children:[Object(C.jsx)("img",{src:V,alt:a.name,className:b.displayImage}),Object(C.jsx)(R.a,{className:b.imageName,children:a.name})]}),Object(C.jsx)(v.a,{id:"alert-dialog-title",children:"Upload Image"}),Object(C.jsxs)(k.a,{children:[Object(C.jsx)("form",{autoComplete:"off",onSubmit:function(e){A(e)},children:Object(C.jsx)(l.a,{id:"outlined-basic",label:"Add A Message",fullWidth:!0,margin:"normal",variant:"outlined",style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px"},onChange:function(e){E(e.target.value)}})}),Object(C.jsx)("div",{style:z,children:Object(C.jsxs)(F.a,{display:"flex",alignItems:"center",children:[Object(C.jsx)(F.a,{width:"100%",mr:1,children:Object(C.jsx)(T.a,{variant:"determinate",value:N})}),Object(C.jsx)(F.a,{minWidth:35,children:Object(C.jsxs)(R.a,{variant:"body2",children:[Math.round(N),"%"]})})]})})]}),Object(C.jsxs)(y.a,{children:[Object(C.jsx)(s.a,{onClick:P,style:{color:"white"},children:"Cancel"}),Object(C.jsx)(s.a,{type:"submit",onClick:function(e){return A(e)},color:"primary",autoFocus:!0,variant:"contained",children:"Upload"})]})]})})},I=a(328),L=a(315),W=a(314),E=a(8),P=a(297),V=(a(267),Object(b.a)((function(e){return{root:{flexGrow:1,color:"white"},chat:{position:"relative",height:"calc(100vh - 200px)",paddingLeft:"10px",paddingBottom:"50px",paddingTop:"5px",overflowY:"scroll",overflowX:"hidden"},footer:{paddingRight:"15px",paddingLeft:"15px",paddingTop:"10px"},message:{width:"100%",color:"white"},roomName:{border:"1px solid #0000004a",borderLeft:0,borderRight:0,padding:"15px",display:"flex",color:"#e5e5e5"},roomNameText:{marginBlockEnd:0,marginBlockStart:0,paddingLeft:"5px"},iconDesign:{fontSize:"1.5em",color:"#e5e5e5"},footerContent:{display:"flex",backgroundColor:"#303753",borderRadius:"5px",alignItems:"center"},inputFile:{display:"none"},rightButtons:{width:"100%",display:"flex",alignItems:"center",justifyContent:"end"},rightButton:{marginRight:"5px"}}}))),A=Object(E.a)((function(e){return{root:{width:42,height:26,padding:0,marginLeft:30,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#52d869",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,a=Object(c.a)(e,["classes"]);return Object(C.jsx)(W.a,Object(i.a)({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))}));t.default=function(){var e=V(),t=Object(x.h)(),a=Object(r.useState)({}),c=Object(o.a)(a,2),b=c[0],m=c[1],p=Object(r.useState)({displayName:"",showEntrance:!1,showKeyName:!1,showQrcode:!1,namesFly:!0,testMode:!1,webSocket:!1,entranceTitle:"",entranceSubTitle:"",titleColor:"#ffffff",subtitleColor:"#ffffff",colorType:"random",testNameNumber:"0",nameColor:"#ffffff",speed:6,entranceVideo:"",entranceBg:"",qrcodeBg:"",keyNameBg:"",keyNameImage:"",predictPopulation:0}),O=Object(o.a)(p,2),y=O[0],k=O[1],v=Object(r.useState)(!1),T=Object(o.a)(v,2),F=T[0],D=T[1],W=Object(r.useState)(null),E=Object(o.a)(W,2),M=E[0],U=E[1],q=Object(r.useState)(""),Q=Object(o.a)(q,2),K=Q[0],$=Q[1],J=Object(r.useState)(""),X=Object(o.a)(J,2);X[0],X[1],Object(r.useEffect)((function(){k({displayName:"",showEntrance:!1,showKeyName:!1,showQrcode:!1,namesFly:!1,testMode:!1,webSocket:!1,entranceTitle:"",entranceSubTitle:"",titleColor:"#ffffff",colorType:"random",fontSize:"50",titleFontSize:"20",subtitleFontSize:"50",keyNameDelay:"0",nameColor:"#ffffff",testNameNumber:"0",speed:6,entranceVideo:"",subtitleColor:"#ffffff",entranceBg:"",qrcodeBg:"",keyNameBg:"",keyNameImage:"",predictPopulation:0}),t.id&&(h.b.collection("events").doc(t.id).onSnapshot((function(e){$(e.data().eventName)})),h.b.collection("events").doc(t.id).onSnapshot((function(e){k(e.data())})))}),[t]);var G=function(){D(!F)},H=function(e){e.preventDefault(),e.target.files[0]&&(e.target.files[0].target=e.target.name,m(Object(i.a)(Object(i.a)({},b),{},Object(n.a)({},e.target.name,URL.createObjectURL(e.target.files[0])))),U(e.target.files[0]),G()),e.target.value=null},Y=function(e){k(Object(i.a)(Object(i.a)({},y),{},Object(n.a)({},e.target.name,e.target.value)))},_=function(e){k(Object(i.a)(Object(i.a)({},y),{},Object(n.a)({},e.target.name,e.target.checked)))},Z=function(e){k(Object(i.a)(Object(i.a)({},y),{},{nameColor:"",colorType:e.target.value}))};return Object(C.jsxs)("div",{className:e.root,children:[F?Object(C.jsx)(z,{setState:G,file:M,setAllSettings:k,allSettings:y}):null,Object(C.jsxs)(u.a,{item:!0,className:e.roomName,children:[Object(C.jsx)(w.a,{className:e.iconDesign}),Object(C.jsx)("h3",{className:e.roomNameText,children:K}),Object(C.jsxs)("div",{className:e.rightButtons,children:[Object(C.jsx)(s.a,{className:e.rightButton,variant:"contained",color:"primary",children:Object(C.jsx)(N.b,{style:{textDecoration:"none"},to:"/",children:"\u4e3b\u5834\u9801\u9762"})}),Object(C.jsx)(s.a,{style:{textDecoration:"none"},className:e.rightButton,variant:"contained",color:"primary",children:Object(C.jsx)(N.b,{style:{textDecoration:"none"},to:"/keyname",children:"\u8f38\u5165\u540d\u5b57\u9801\u9762"})}),Object(C.jsx)(s.a,{style:{textDecoration:"none"},className:e.rightButton,variant:"contained",color:"primary",children:Object(C.jsx)(N.b,{style:{textDecoration:"none"},to:"/qrcode/",children:"\u6383QRcode\u9801\u9762"})})]})]}),Object(C.jsxs)(u.a,{item:!0,xs:"auto",className:e.chat,children:[Object(C.jsx)(u.a,{item:!0,xs:12,children:Object(C.jsx)(L.a,{control:Object(C.jsx)(A,{checked:y.namesFly,onChange:function(e){return _(e)},name:"namesFly"}),label:"\u52d5\u756b\u958b\u59cb(\u5141\u8a31\u59d3\u540d\u5165\u5834)"})}),Object(C.jsxs)(u.a,{container:!0,spacing:2,children:[Object(C.jsx)(u.a,{item:!0,xs:"auto",children:Object(C.jsxs)("form",{autoComplete:"off",children:[Object(C.jsx)(l.a,{id:"outlined-basic",label:"\u4e3b\u984c\u6587\u5b57",fullWidth:!0,margin:"normal",variant:"outlined",value:y.entranceTitle,name:"entranceTitle",onChange:function(e){return Y(e)},style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"white"}}),Object(C.jsx)("span",{children:"\u4e3b\u984c\u6587\u5b57\u984f\u8272"}),Object(C.jsx)(P.a,{value:y.titleColor,onChange:function(e){k(Object(i.a)(Object(i.a)({},y),{},{titleColor:e}))}}),Object(C.jsx)(l.a,{id:"outlined-basic",label:"\u4e3b\u984c\u6587\u5b57\u5927\u5c0f",fullWidth:!0,margin:"normal",variant:"outlined",value:y.titleFontSize,name:"titleFontSize",onChange:function(e){return Y(e)},style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"white"}}),Object(C.jsx)("hr",{}),Object(C.jsx)(l.a,{id:"outlined-basic",label:"\u526f\u4e3b\u984c\u6587\u5b57",fullWidth:!0,margin:"normal",variant:"outlined",value:y.entranceSubTitle,name:"entranceSubTitle",onChange:function(e){return Y(e)},style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"white"}}),Object(C.jsx)("span",{children:"\u526f\u4e3b\u984c\u6587\u5b57\u984f\u8272"}),Object(C.jsx)(P.a,{value:y.subtitleColor,onChange:function(e){k(Object(i.a)(Object(i.a)({},y),{},{subtitleColor:e}))}}),Object(C.jsx)(l.a,{id:"outlined-basic",label:"\u526f\u4e3b\u984c\u6587\u5b57\u5927\u5c0f",fullWidth:!0,margin:"normal",variant:"outlined",value:y.subtitleFontSize,name:"subtitleFontSize",onChange:function(e){return Y(e)},style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"white"}}),Object(C.jsx)("hr",{}),Object(C.jsx)(l.a,{id:"outlined-basic",label:"\u9054\u9663\u6b21\u6578",fullWidth:!0,margin:"normal",variant:"outlined",value:y.predictPopulation,name:"predictPopulation",onChange:function(e){return Y(e)},style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"white"}}),Object(C.jsx)(R.a,{id:"discrete-slider",gutterBottom:!0,children:"\u540d\u5b57\u9032\u5834\u79d2\u6578"}),Object(C.jsx)(I.a,{defaultValue:6,getAriaValueText:function(e){return"".concat(e,"\u79d2")},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",value:y.speed,onChange:function(e,t){k(Object(i.a)(Object(i.a)({},y),{},{speed:t}))},marks:!0,min:1,max:11}),Object(C.jsx)(l.a,{id:"outlined-basic",label:"\u540d\u5b57\u5927\u5c0f",fullWidth:!0,margin:"normal",variant:"outlined",value:y.fontSize,name:"fontSize",onChange:function(e){return Y(e)},style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"white"}}),Object(C.jsx)(L.a,{value:"specific",control:Object(C.jsx)(d.a,{checked:"specific"===y.colorType,onChange:function(e){return Z(e)},name:"radio-buttons",inputProps:{"aria-label":"A"}}),label:"\u9078\u5b9a\u540d\u5b57\u984f\u8272",labelPlacement:"start"}),Object(C.jsx)(L.a,{value:"random",control:Object(C.jsx)(d.a,{checked:"random"===y.colorType,onChange:function(e){return Z(e)},value:"random",name:"radio-buttons",inputProps:{"aria-label":"A"}}),label:"\u540d\u5b57\u984f\u8272\u4e82\u6578",labelPlacement:"start"}),Object(C.jsx)("br",{}),"specific"===y.colorType?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{children:"\u540d\u5b57\u984f\u8272"}),Object(C.jsx)(P.a,{value:y.nameColor,onChange:function(e){k(Object(i.a)(Object(i.a)({},y),{},{nameColor:e}))}})]}):null]})}),Object(C.jsxs)(u.a,{item:!0,xs:"auto",children:[Object(C.jsx)("br",{}),y.entranceBg?Object(C.jsx)("img",{width:"80",src:y.entranceBg}):null,Object(C.jsx)("input",{accept:"image/*",className:e.inputFile,id:"icon-button-file",type:"file",name:"entranceBg",onChange:function(e){return H(e)}}),Object(C.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(C.jsx)(f.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(C.jsx)(B.a,{style:{color:"#b9bbbe"}})}),"\u4e0a\u50b3\u6703\u5834\u80cc\u666f"]}),Object(C.jsx)("br",{}),y.keyNameBg?Object(C.jsx)("img",{width:"80",src:y.keyNameBg}):null,Object(C.jsx)("input",{accept:"image/*",className:e.inputFile,id:"icon-button-keynamebg",type:"file",name:"keyNameBg",onChange:function(e){return H(e)}}),Object(C.jsxs)("label",{htmlFor:"icon-button-keynamebg",children:[Object(C.jsx)(f.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(C.jsx)(B.a,{style:{color:"#b9bbbe"}})}),"\u4e0a\u50b3\u8f38\u5165\u59d3\u540d\u9801\u80cc\u666f"]}),Object(C.jsx)("br",{}),y.keyNameImage?Object(C.jsx)("img",{width:"80",src:y.keyNameImage}):null,Object(C.jsx)("input",{accept:"image/*",className:e.inputFile,id:"icon-button-keynameImage",type:"file",name:"keyNameImage",onChange:function(e){return H(e)}}),Object(C.jsxs)("label",{htmlFor:"icon-button-keynameImage",children:[Object(C.jsx)(f.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(C.jsx)(B.a,{style:{color:"#b9bbbe"}})}),"\u4e0a\u50b3\u8f38\u5165\u59d3\u540d\u9801\u4e3b\u984c"]}),Object(C.jsx)("br",{}),Object(C.jsx)(l.a,{id:"outlined-basic",label:"\u8f38\u5165\u540d\u5b57\u5ef6\u9072\u6642\u9593",fullWidth:!0,margin:"normal",variant:"outlined",value:y.keyNameDelay,name:"keyNameDelay",onChange:function(e){return Y(e)},style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"white"}}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a,{control:Object(C.jsx)(A,{checked:y.testMode,onChange:function(e){return _(e)},name:"testMode"}),label:"\u6e2c\u8a66\u6a21\u5f0f"}),Object(C.jsx)(l.a,{id:"outlined-basic",label:"\u6e2c\u8a66\u6578\u91cf",fullWidth:!0,margin:"normal",variant:"outlined",value:y.testNameNumber,name:"testNameNumber",onChange:function(e){return Y(e)},style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"white"}}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"\u9032\u968e\u8a2d\u5b9a"}),Object(C.jsx)(L.a,{control:Object(C.jsx)(A,{checked:y.webSocket,onChange:function(e){return _(e)},name:"webSocket"}),label:"WebSocket"})]})]})]}),Object(C.jsx)("div",{style:{padding:"10px",background:"black",bottom:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",position:"fixed"},children:Object(C.jsxs)("div",{style:{transform:"translateX(-50%)"},children:[Object(C.jsx)(s.a,{style:{color:"white"},children:"\u53d6\u6d88"}),Object(C.jsxs)(j.a,{variant:"extended",onClick:function(e){if(e.preventDefault(),y&&t.id){var a=JSON.parse(localStorage.getItem("userDetails"));if(a){a.displayName;var n=a.uid,o=y.showEntrance||!1,i=y.showKeyName||!1,c=y.showQrcode||!1,r=y.namesFly||!1,l=y.testMode||!1,s=y.webSocket||!1,d=y.entranceTitle||"",b=y.entranceSubTitle||"",u=y.titleColor||"",j=y.testNameNumber||"0",m=y.colorType||"",g=y.fontSize||"50",p=y.titleFontSize||"20",f=y.subtitleFontSize||"50",x=y.keyNameDelay||"0",O=y.nameColor||"",k=y.speed||6,v=y.entranceVideo||"",C=y.subtitleColor||"",N=y.entranceBg||"",w=y.qrcodeBg||"",B=y.keyNameBg||"",T=y.keyNameImage||"",R=y.predictPopulation||0,F={timestamp:S.a.firestore.Timestamp.now(),showEntrance:o,showKeyName:i,showQrcode:c,namesFly:r,testMode:l,webSocket:s,uid:n,entranceTitle:d,entranceSubTitle:b,titleColor:u,subtitleColor:C,colorType:m,fontSize:g,testNameNumber:j,titleFontSize:p,subtitleFontSize:f,keyNameDelay:x,nameColor:O,speed:k,entranceVideo:v,entranceBg:N,qrcodeBg:w,keyNameBg:B,keyNameImage:T,predictPopulation:R};h.b.collection("events").doc(t.id).set(F,{merge:!0}).then((function(e){console.log("settings sent")})).catch((function(e){console.log(e)}))}}},children:[Object(C.jsx)(g.a,{className:e.extendedIcon}),"\u66f4\u65b0\u8a2d\u5b9a"]})]})})]})}}}]);
//# sourceMappingURL=12.cd564f78.chunk.js.map